"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[355],{8355:function(n,e,r){r.r(e),r.d(e,{default:function(){return bn}});var t,o=r(168),a=r(2499),i=a.Z.h2(t||(t=(0,o.Z)(["\n  margin-bottom: 20px;\n  font-size: 30px;\n  text-transform: uppercase;\n  color: #3498db;\n"]))),s=r(3329);function c(n){var e=n.title;return(0,s.jsx)(s.Fragment,{children:e&&(0,s.jsx)(i,{children:e})})}var d,l,p,u,x,h=r(5861),m=r(8152),b=r(7757),f=r.n(b),g=r(2791),Z=r(8880),v=r(5273),j=r(3173),w=a.Z.div(d||(d=(0,o.Z)(["\n  margin-bottom: 40px;\n"]))),k=a.Z.form(l||(l=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid darkgray;\n  border-radius: 5px;\n  background-color: white;\n  box-shadow: 0px 2px 10px -3px;\n"]))),y=a.Z.label(p||(p=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin: 20px 20px 0px 20px;\n  font-size: 24px;\n"]))),z=a.Z.input(u||(u=(0,o.Z)(["\n  width: 300px;\n  margin-top: 4px;\n  padding: 4px;\n  font-size: 16px;\n  border: 2px solid #3498db;\n  border-radius: 5px;\n  background-color: ghostwhite;\n"]))),C=a.Z.button(x||(x=(0,o.Z)(["\n  width: 160px;\n  height: 50px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  font-size: 18px;\n  text-transform: uppercase;\n  border: 0px;\n  border-radius: 20px;\n  background-color: #3498db;\n  color: white;\n  box-shadow: none;\n  transition: all 250ms ease-in-out;\n\n  :hover,\n  :focus {\n    background-color: #39b0ff;\n    box-shadow: 0px 4px 4px #00000026, inset 0px 0px 0px 0px #0000004d;\n  }\n\n  :disabled {\n    background-color: #4e95c4;\n  }\n"])));function F(){var n=(0,g.useState)(""),e=(0,m.Z)(n,2),r=e[0],t=e[1],o=(0,g.useState)(""),a=(0,m.Z)(o,2),i=a[0],c=a[1],d=(0,Z.bC)().data,l=(0,Z.Tn)(),p=(0,m.Z)(l,2),u=p[0],x=p[1].isLoading,b=(0,v.x0)(),F=(0,v.x0)(),A=function(n){var e=n.target,r=e.name,o=e.value;switch(r){case"name":return t(o);case"number":return c(o);default:return}},L=function(){var n=(0,h.Z)(f().mark((function n(e){var o;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!d.find((function(n){return n.name.toLowerCase()===r.toLowerCase()&&n.number===i}))){n.next=4;break}return(0,j.vl)("This contact is already in your phone book"),n.abrupt("return");case 4:if(!d.find((function(n){return n.number===i}))){n.next=7;break}return(0,j.vl)("This phone number is already in your phone book"),n.abrupt("return");case 7:return o={name:r,number:i},n.prev=8,n.next=11,u(o);case 11:(0,j.rO)("New contact has been added in your phone book"),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(8),console.log(n.t0.message),(0,j.UW)("Something goes wrong, new contact was not created");case 18:t(""),c("");case 19:case"end":return n.stop()}}),n,null,[[8,14]])})));return function(e){return n.apply(this,arguments)}}();return(0,s.jsx)(w,{children:(0,s.jsxs)(k,{onSubmit:L,children:[(0,s.jsxs)(y,{htmlFor:b,children:["Name",(0,s.jsx)(z,{type:"text",name:"name",placeholder:"Type name here",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:r,onChange:A,id:b,required:!0})]}),(0,s.jsxs)(y,{htmlFor:F,children:["Number",(0,s.jsx)(z,{type:"tel",name:"number",placeholder:"Type number here",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:i,onChange:A,id:F,required:!0})]}),(0,s.jsx)(C,{type:"submit",disabled:x,children:x?"Adding...":"Add contact"})]})})}var A,L,_,T=r(5048),N=r(544),S=function(n){return n.filter.value},P=a.Z.div(A||(A=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  border: 1px solid darkgray;\n  background-color: white;\n  box-shadow: 0px 2px 10px -3px;\n  border-radius: 5px;\n  width: 354px;\n"]))),M=a.Z.label(L||(L=(0,o.Z)(["\n  margin: 10px 20px 10px 20px;\n  font-size: 18px;\n"]))),D=a.Z.input(_||(_=(0,o.Z)(["\n  width: 300px;\n  margin-top: 4px;\n  padding: 4px;\n  font-size: 16px;\n  border: 2px solid #3498db;\n  border-radius: 5px;\n  background-color: ghostwhite;\n"])));function W(){var n=(0,T.v9)(S),e=(0,T.I0)(),r=(0,v.x0)();return(0,s.jsx)(P,{children:(0,s.jsxs)(M,{htmlFor:r,children:["Find contacts by name",(0,s.jsx)(D,{type:"text",placeholder:"Search field",id:r,value:n,onChange:function(n){e((0,N.M)(n.currentTarget.value))}})]})})}function q(n,e){return n.name.localeCompare(e.name)}var O,U,B,E,I,J,R,$,G,H,K,Q,V,X=r(6355),Y=r(9983),nn=a.Z.div(O||(O=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 420px;\n  height: 50px;\n  border: 1px solid darkgray;\n  border-radius: 5px;\n  background-color: white;\n"]))),en=a.Z.p(U||(U=(0,o.Z)(["\n  margin-left: 20px;\n  font-size: 18px;\n"]))),rn=a.Z.a(B||(B=(0,o.Z)(["\n  margin-left: auto;\n  font-size: 18px;\n  text-decoration: none;\n  transition: all 250ms ease-in-out;\n\n  :hover,\n  :focus {\n    color: #39b0ff;\n  }\n"]))),tn=a.Z.button(E||(E=(0,o.Z)(["\n  height: 27px;\n  padding: 0;\n  margin: 0 20px 0 50px;\n  color: #3498db;\n  background-color: transparent;\n  border: none;\n  transition: all 250ms ease-in-out;\n\n  :hover,\n  :focus {\n    color: #ff3939;\n  }\n\n  :disabled {\n    color: #4e95c4;\n  }\n"])));function on(n){var e=n.id,r=n.name,t=n.number,o=(0,Z.Nt)(),a=(0,m.Z)(o,2),i=a[0],c=a[1].isLoading,d=function(){var n=(0,h.Z)(f().mark((function n(e,r){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i(e);case 3:(0,j.rO)('"'.concat(r,'" has been deleted from your phone book')),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0.message),(0,j.UW)('Something goes wrong, "'.concat(r,'" was not deleted'));case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,r){return n.apply(this,arguments)}}();return(0,s.jsxs)(nn,{children:[(0,s.jsx)(en,{children:r}),(0,s.jsx)(rn,{href:"tel:".concat(t),children:t}),(0,s.jsx)(tn,{type:"button",onClick:function(){return d(e,r)},disabled:c,"aria-label":"Delete contact",children:(0,s.jsx)(Y.Pd.Provider,{value:{size:"2em"},children:c?(0,s.jsx)(X.fCD,{}):(0,s.jsx)(X.AMf,{})})})]})}var an=a.Z.p(I||(I=(0,o.Z)(["\n  font-size: 18px;\n"]))),sn=a.Z.span(J||(J=(0,o.Z)(["\n  margin-left: 4px;\n  color: blue;\n"]))),cn=a.Z.ul(R||(R=(0,o.Z)(["\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 460px;\n  border: 1px solid darkgray;\n  border-radius: 5px;\n  background-color: white;\n  box-shadow: 0px 2px 10px -3px;\n"]))),dn=a.Z.li($||($=(0,o.Z)(["\n  :first-of-type {\n    padding-top: 20px;\n  }\n\n  :last-child {\n    padding-bottom: 20px;\n  }\n\n  :not(:last-child) {\n    margin-bottom: 10px;\n  }\n"]))),ln=a.Z.p(G||(G=(0,o.Z)(["\n  font-size: 24px;\n  color: darkgray;\n"]))),pn=a.Z.p(H||(H=(0,o.Z)(["\n  margin: 20px 0;\n  font-size: 18px;\n"]))),un=a.Z.p(K||(K=(0,o.Z)(["\n  font-size: 18px;\n"]))),xn=a.Z.p(Q||(Q=(0,o.Z)(["\n  margin-top: 20px;\n  font-size: 18px;\n"]))),hn=a.Z.button(V||(V=(0,o.Z)(["\n  display: block;\n  padding: 0;\n  margin-top: 20px;\n  color: #3498db;\n  background-color: transparent;\n  border: none;\n  transition: all 250ms ease-in-out;\n\n  :hover,\n  :focus {\n    color: #39b0ff;\n  }\n"])));function mn(){var n=(0,Z.bC)(),e=n.data,r=n.isLoading,t=n.isError,o=n.refetch,a=(0,T.v9)(S),i=function(){return e?e.length:0},c=(0,g.useMemo)((function(){return function(){if(e){var n=a.toLowerCase().trim();return e.filter((function(e){return e.name.toLowerCase().includes(n)||e.number.includes(n)})).sort(q)}}}),[e,a])();return(0,s.jsxs)(s.Fragment,{children:[r?(0,s.jsx)(ln,{children:"Loading..."}):i()>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(an,{children:["Contacts amount:"," ",(0,s.jsx)(sn,{children:i()})]}),(0,s.jsx)(cn,{children:c.length?c.map((function(n){var e=n.id,r=n.name,t=n.number;return(0,s.jsx)(dn,{children:(0,s.jsx)(on,{id:e,name:r,number:t})},e)})):(0,s.jsx)(pn,{children:"No contact matches"})})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(un,{children:"There are no contacts in your phone book"})}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(xn,{children:"Fetch error! Refetch contacts"}),(0,s.jsx)(hn,{type:"button",onClick:function(){return o()},children:(0,s.jsx)(Y.Pd.Provider,{value:{size:"5em"},children:(0,s.jsx)(X.WLu,{})})})]})]})}function bn(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{title:"Add contact"}),(0,s.jsx)(F,{}),(0,s.jsx)(c,{title:"Contacts"}),(0,s.jsx)(W,{}),(0,s.jsx)(mn,{})]})}}}]);
//# sourceMappingURL=355.68494f78.chunk.js.map